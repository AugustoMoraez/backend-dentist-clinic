generator client {
  provider = "prisma-client-js"
}

enum crdb_internal_region {
  gcp_southamerica_east1 @map("gcp-southamerica-east1")
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:1234@localhost:3306/nest"
}

model Address {
  id           String  @id @default(uuid())
  house_number String?
  street       String?
  district     String?
  city         String?
  state        String?
  complement   String?

  user_id String     @unique
  user    User @relation(fields: [user_id], references: [id])
}

enum Subs_Status {
  NULL
  ACTIVE
  PEDING
  DISABLED
}

model User {
  //personal data
  id           String  @id @unique @default(uuid())
  email        String  @unique
  password     String
  name         String?
  cnpj         String? @unique
  cpf          String? @unique
  contact_1    String
  contact_2    String?
  address      Address?
  AccountVerify Boolean @default(false)
  
  //stripe
  subscription_Status Subs_Status @default(NULL)
  subscription_id String?
  currentPeriodEnd  DateTime?
  stripe_id    String?
  stripe_connect_id   String?
  
  
}

model PasswordResetToken {
  id        String   @id @default(uuid())
  token     String   @unique
  email     String    
  expiresAt DateTime
  createdAt DateTime @default(now())
}

model AccountVerifyToken {
  id        String   @id @default(uuid())
  token     String   @unique
  email     String    
  expiresAt DateTime
  createdAt DateTime @default(now())
}


